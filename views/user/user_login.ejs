

<link rel="stylesheet" href="/user_asset/css/main.css?v=3.4">

<main class="main center" style="min-height: calc(100vh - 100px); display: flex; flex-direction: column;">
    <section class="py-5 flex-grow-1 d-flex align-items-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-8">
                    <% if (message) { %>
                        <div class="alert alert-danger" role="alert">
                            <%= message %>
                        </div>
                    <% } %>
                
                    <div class="login_wrap widget-taber-content p-30 background-white border-radius-10">
                        <div class="padding_eight_all bg-white">
                            <div class="heading_s1">
                                <h3 class="mb-30">Login</h3>
                            </div>
                            <p class="mb-50 font-sm">Enter your email and password to login our dashboard</p>
                            <form method="post" action="/login">
                                <div class="form-group">
                                    <input type="text" name="email" placeholder="Your Email">
                                </div>
                                <div class="form-group">
                                    <input type="password" name="password" placeholder="Password">
                                </div>
                                <div id="error-message"></div> 
                                <div class="login_footer form-group">
                                    <div class="chek-form">
                                        <div class="custome-checkbox">
                                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox1" value="">
                                            <label class="form-check-label" for="exampleCheckbox1"><span>Remember me</span></label>
                                        </div>
                                    </div>
                                    <a class="text-muted" href="/forgot_password">Forgot password?</a>
                                </div>
                                <div class="form-group">
                                    <div class="mb-4">
                                        <button type="submit" class="btn btn-primary w-100"> Log in </button>
                                    </div>
                                    <div class="text-muted text-center">Don't have an account? <a href="/register">Register now</a></div>
                                    <div class="divider-text-center mt-15 mb-15">
                                        <span>or</span>
                                    </div>
                                    <ul class="btn-login list_none text-center mb-15">
                                        <li><a href="/auth/google" class="btn btn-google ">Log in With Google</a></li>
                                    </ul>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

    document.querySelector('form').addEventListener('submit', function (event) {
        const email = document.querySelector('input[name="email"]').value.trim();
        const password = document.querySelector('input[name="password"]').value.trim();
        const errorMessageContainer = document.querySelector('#error-message');
        
        errorMessageContainer.innerHTML = '';

        if (!email || !password) {
            event.preventDefault(); 
            errorMessageContainer.innerHTML = '<p style="color:red;">Please enter both email and password.</p>';
        }
    });

    document.addEventListener('DOMContentLoaded', () => {
        let success_message = '<%= success_message %>';

        if(success_message){
            Swal.fire({
                icon: 'success',
                text: success_message,
                position: 'top-right',
                showConfirmButton: false,
                timerProgressBar: true,
                timer:3000
            });
        }
    })

</script>
